apply plugin: 'com.android.library'

android {
    compileSdkVersion 25
    buildToolsVersion "25.0.3"

    defaultConfig {
        minSdkVersion 21
        targetSdkVersion 22

        versionCode 18
        versionName "1.4.3"

        ndk {
            abiFilters 'armeabi'    //只生成armv7的so
        }
    }

    lintOptions {
        abortOnError false
    }
}

dependencies {
    compile 'com.android.support:support-v4:25.3.1'
    compile 'com.android.support:support-annotations:25.3.1'
    ["junit:junit:4.12",
     "org.hamcrest:hamcrest-core:1.3",
     "org.hamcrest:hamcrest-library:1.3",
     "org.hamcrest:hamcrest-integration:1.3"].each { testCompile it }
    ["junit:junit:4.12",
     "com.android.support.test:runner:0.5",
     "com.android.support.test:rules:0.5",
     "org.hamcrest:hamcrest-core:1.3",
     "org.hamcrest:hamcrest-library:1.3",
     "org.hamcrest:hamcrest-integration:1.3"].each { androidTestCompile it }
}

tasks.withType(Javadoc) {
    options.addStringOption('Xdoclint:none', '-quiet')
    options.addStringOption('encoding', 'UTF-8')
    options.addStringOption('charSet', 'UTF-8')
}

android.libraryVariants.all { variant ->
    task("generate${variant.name.capitalize()}Javadoc", type: Javadoc) {
        title "Material CalendarView ${version}"
        description "Generates Javadoc for $variant.name."
        source = variant.javaCompile.source
        classpath = files(variant.javaCompile.classpath.files, project.android.getBootClasspath())
        exclude '**/BuildConfig.java'
        exclude '**/R.java'
        exclude 'android/support/v4/view/BetterViewPager.java'
        options {
            links "http://docs.oracle.com/javase/7/docs/api/"
            linksOffline "http://d.android.com/reference", "${android.sdkDirectory}/docs/reference"
        }
    }
}

//ext {
//    minSdkVersion = 14
//    compileSdkVersion = 25
//    targetSdkVersion = 25
//    buildToolsVersion = '25.0.2'
//
//    hamcrestVersion = '1.3'
//    junitVersion = '4.11'
//    runnerVersion = '0.5'
//    supportVersion = '25.3.1'
//
//    supportV4 = "com.android.support:support-v4:25.3.1"
//    supportDesign = "com.android.support:design:25.3.1"
//    supportAnnotations = "com.android.support:support-annotations:25.3.1"
//    supportAppCompat = "com.android.support:appcompat-v7:25.3.1"
//    recyclerviewV7 = "com.android.support:recyclerview-v7:25.3.1"
//
//    // Test
//    junit = "junit:junit:4.11"
//    testRunner = "com.android.support.test:runner:0.5"
//    testRules = "com.android.support.test:rules:0.5"
//
//    // Hamcrest
//    hamcrestCore = "org.hamcrest:hamcrest-core:1.3"
//    hamcrestLibrary = "org.hamcrest:hamcrest-library:1.3"
//    hamcrestIntegration = "org.hamcrest:hamcrest-integration:1.3"
//
//    // Other
//    butterknife = 'com.jakewharton:butterknife:8.5.1'
//    butterknifeCompiler = 'com.jakewharton:butterknife-compiler:8.5.1'
//
//    testDep = [junit,
//               hamcrestCore,
//               hamcrestLibrary,
//               hamcrestIntegration]
//
//    androidTestDep = [junit,
//                      testRunner,
//                      testRules,
//                      hamcrestCore,
//                      hamcrestLibrary,
//                      hamcrestIntegration]
//}

